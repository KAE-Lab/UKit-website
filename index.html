<!DOCTYPE html>
<html lang="fr" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UKit - Le kit de l'étudiant bordelais</title>
    <meta name="description" content="L'application open-source indispensable pour les étudiants bordelais : emploi du temps, ENT.">
    <link rel="icon" type="image/png" href="/logo.png">
    <script type="module" src="/src/main.js"></script>
</head>
<body class="bg-slate-950 text-slate-50 font-sans antialiased selection:bg-[#7F1734] selection:text-white overflow-x-hidden">

    <!-- NAV -->
    <header class="sticky top-0 z-50 bg-slate-950/80 backdrop-blur-md border-b border-slate-800/50">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <img src="/app.png" alt="UKit" class="h-8">
            <div class="flex items-center gap-3">
                <button onclick="handleDownload()" class="flex items-center gap-2 bg-[#7F1734] hover:bg-[#9b1d3e] text-white px-4 py-2 rounded-full border border-[#9b1d3e]/60 transition text-sm font-bold">
                    <span>Télécharger</span>
                </button>
            </div>
        </nav>
    </header>

    <!-- HERO -->
    <section class="container mx-auto px-6 flex items-center justify-center min-h-[calc(100svh-65px)] py-3">

        <div class="flex flex-col lg:flex-row items-center justify-center gap-6 lg:gap-12 w-full lg:max-w-[80%]">

            <!-- Screenshot principal — au-dessus sur mobile, à droite sur desktop -->
            <div class="relative order-first lg:order-last shrink-0 w-full max-w-[160px] lg:max-w-[338px] overflow-hidden rounded-xl lg:rounded-3xl border border-slate-800 shadow-2xl mx-auto">
                <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[150%] h-[150%] bg-[#7F1734]/20 blur-3xl rounded-full -z-10 pointer-events-none"></div>
                <img src="/app-screenshot.jpg" alt="Capture d'écran de UKit" class="w-full object-contain">
            </div>

            <!-- Texte + CTA -->
            <div class="flex flex-col items-center lg:items-start text-center lg:text-start lg:text-left flex-1">
                <h1 class="text-3xl md:text-7xl font-extrabold tracking-tight mb-4 md:mb-6">
                    Le kit de survie pour <br>
                    <span class="text-[#7F1734]">l'étudiant bordelais.</span>
                </h1>
                <p class="text-sm md:text-xl text-slate-400 max-w-xl mb-8 md:mb-10">
                    Consultez votre emploi du temps, accédez à l'ENT et retrouvez vos cours en une seule application fluide et open-source.
                </p>
            </div>

        </div>

    </section>

    <!-- SÉPARATEUR -->
    <!-- <div class="flex flex-col items-center gap-2 py-4">
        <div class="w-px h-8 bg-gradient-to-b from-transparent to-slate-700"></div>
        <a href="#features" aria-label="Faire défiler vers les fonctionnalités">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-slate-500 hover:text-slate-300 transition animate-bounce" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 8.25l-7.5 7.5-7.5-7.5"/></svg>
        </a>
        <div class="w-px h-8 bg-gradient-to-b from-slate-700 to-transparent"></div>
    </div> -->

    <!-- FEATURES avec onglets -->
    <section id="features" class="container mx-auto px-6 py-24">
        <div class="flex flex-col lg:flex-row gap-8 items-start">

            <!-- Onglets à gauche -->
            <div class="flex flex-row lg:flex-col gap-3 lg:w-80 shrink-0 overflow-x-auto lg:overflow-x-visible pb-1 lg:pb-0 w-full snap-x snap-mandatory tabs-scroll">

                <button onclick="switchTab('navigation')" id="tab-navigation"
                    class="tab-btn active-tab text-left p-5 rounded-2xl border transition-all shrink-0 lg:w-full snap-start">
                    <div class="flex items-center gap-3 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 012.25-2.25h13.5A2.25 2.25 0 0121 7.5v11.25m-18 0A2.25 2.25 0 005.25 21h13.5A2.25 2.25 0 0021 18.75m-18 0v-7.5A2.25 2.25 0 015.25 9h13.5A2.25 2.25 0 0121 11.25v7.5"/></svg>
                        <span class="font-bold text-white whitespace-nowrap">Navigation</span>
                    </div>
                    <p class="text-slate-400 text-sm hidden lg:block">Planning quotidien et hebdomadaire en un geste.</p>
                </button>

                <button onclick="switchTab('search')" id="tab-search"
                    class="tab-btn text-left p-5 rounded-2xl border transition-all shrink-0 lg:w-full snap-start">
                    <div class="flex items-center gap-3 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"/></svg>
                        <span class="font-bold text-white whitespace-nowrap">Recherche</span>
                    </div>
                    <p class="text-slate-400 text-sm hidden lg:block">Retrouvez votre groupe en quelques secondes.</p>
                </button>

                <button onclick="switchTab('filters')" id="tab-filters"
                    class="tab-btn text-left p-5 rounded-2xl border transition-all shrink-0 lg:w-full snap-start">
                    <div class="flex items-center gap-3 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M10.5 6h9.75M10.5 6a1.5 1.5 0 11-3 0m3 0a1.5 1.5 0 10-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 01-3 0m3 0a1.5 1.5 0 00-3 0m-9.75 0h9.75"/></svg>
                        <span class="font-bold text-white whitespace-nowrap">Filtres</span>
                    </div>
                    <p class="text-slate-400 text-sm hidden lg:block">Masquez les cours qui ne vous concernent pas.</p>
                </button>

                <button onclick="switchTab('browser')" id="tab-browser"
                    class="tab-btn text-left p-5 rounded-2xl border transition-all shrink-0 lg:w-full snap-start">
                    <div class="flex items-center gap-3 mb-2">
                        <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 shrink-0" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.26 10.147a60.436 60.436 0 00-.491 6.347A48.627 48.627 0 0112 20.904a48.627 48.627 0 018.232-4.41 60.46 60.46 0 00-.491-6.347m-15.482 0a50.57 50.57 0 00-2.658-.813A59.905 59.905 0 0112 3.493a59.902 59.902 0 0110.399 5.84c-.896.248-1.783.52-2.658.814m-15.482 0A50.697 50.697 0 0112 13.489a50.702 50.702 0 017.74-3.342M6.75 15a.75.75 0 100-1.5.75.75 0 000 1.5zm0 0v-3.675A55.378 55.378 0 0112 8.443m-7.007 11.55A5.981 5.981 0 006.75 15.75v-1.5"/></svg>
                        <span class="font-bold text-white whitespace-nowrap">ENT</span>
                    </div>
                    <p class="text-slate-400 text-sm hidden lg:block">L'ENT universitaire intégré directement dans l'app.</p>
                </button>

            </div>

            <!-- Vidéo à droite -->
            <div class="flex-1 w-full flex items-center justify-center bg-slate-900 rounded-3xl border border-slate-800 shadow-2xl p-8">

                <div id="video-navigation" class="video-panel w-full max-w-xs">
                    <video src="/navigation.mp4" autoplay loop muted playsinline class="w-full rounded-2xl"></video>
                </div>

                <div id="video-search" class="video-panel hidden w-full max-w-xs">
                    <video src="/search.mp4" loop muted playsinline class="w-full rounded-2xl"></video>
                </div>

                <div id="video-filters" class="video-panel hidden w-full max-w-xs">
                    <video src="/filters.mp4" loop muted playsinline class="w-full rounded-2xl"></video>
                </div>

                <div id="video-browser" class="video-panel hidden w-full max-w-xs">
                    <video src="/browser.mp4" loop muted playsinline class="w-full rounded-2xl"></video>
                </div>

            </div>
        </div>
    </section>

    <!-- MODAL QR CODE -->
    <div id="qr-modal" class="hidden fixed inset-0 z-[100] flex items-center justify-center p-4">
        <div class="absolute inset-0 bg-black/70 backdrop-blur-sm" onclick="closeQrModal()"></div>
        <div class="relative bg-slate-900 border border-slate-700 rounded-3xl p-8 flex flex-col items-center gap-5 max-w-xs w-full shadow-2xl">
            <button onclick="closeQrModal()" class="absolute top-4 right-4 text-slate-400 hover:text-white p-1 rounded-lg hover:bg-slate-800 transition">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
            </button>
            <div class="flex items-center gap-2">
                <svg xmlns="http://www.w3.org/2000/svg" class="w-5 h-5 text-[#7F1734]" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 013.75 9.375v-4.5zM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 01-1.125-1.125v-4.5zM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0113.5 9.375v-4.5z"/><path stroke-linecap="round" stroke-linejoin="round" d="M6.75 6.75h.75v.75h-.75v-.75zM6.75 16.5h.75v.75h-.75v-.75zM16.5 6.75h.75v.75h-.75v-.75zM13.5 13.5h.75v.75h-.75v-.75zM13.5 19.5h.75v.75h-.75v-.75zM19.5 13.5h.75v.75h-.75v-.75zM19.5 19.5h.75v.75h-.75v-.75zM16.5 16.5h.75v.75h-.75v-.75z"/></svg>
                <h3 class="text-lg font-bold">Scanner pour télécharger</h3>
            </div>
            <p class="text-slate-400 text-sm text-center">Scannez avec votre téléphone Android pour télécharger UKit</p>
            <div class="p-3 bg-white rounded-2xl">
                <img src="https://api.qrserver.com/v1/create-qr-code/?size=180x180&data=https://github.com/Illumye/UKit/releases/latest/download/ukit-release.apk&margin=0" alt="QR Code de téléchargement UKit" class="w-44 h-44 rounded-lg block">
            </div>
            <p class="text-slate-500 text-xs">APK Android &bull; Gratuit &amp; open-source</p>
        </div>
    </div>

    <!-- FOOTER -->
    <footer class="border-t border-slate-800">
        <div class="container mx-auto px-6 py-8 flex flex-col md:flex-row justify-between items-center gap-4">
            <p class="text-slate-500 text-sm">
                Maintenu par la team <a href="https://github.com/KAE-Lab" target="_blank" class="text-slate-300 hover:text-white">KAE Lab</a> &bull; Fork de <a href="https://github.com/kb-dev/UKit" target="_blank" class="text-slate-300 hover:text-white">kb-dev</a>.
            </p>
            <div class="flex items-center gap-4">
                <span class="text-slate-500 text-sm">Sous licence Apache 2.0</span>
                <a href="https://github.com/Illumye/UKit" target="_blank" class="text-slate-400 hover:text-white transition flex items-center gap-2 bg-slate-800/50 px-3 py-1.5 rounded-full border border-slate-700/50 hover:border-slate-500 text-sm">
                    <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path></svg>
                    GitHub
                </a>
            </div>
        </div>
    </footer>

    <script>
        // ---------- Téléchargement intelligent selon la plateforme ----------
        const ANDROID_URL = 'https://github.com/Illumye/UKit/releases/latest/download/ukit-release.apk'
        const IOS_URL     = 'https://apps.apple.com/app/ukit/id0000000000' // à mettre à jour

        function handleDownload() {
            const ua = navigator.userAgent.toLowerCase()
            if (/android/.test(ua)) {
                window.location.href = ANDROID_URL
            } else if (/iphone|ipad|ipod/.test(ua)) {
                window.location.href = IOS_URL
            } else {
                document.getElementById('qr-modal').classList.remove('hidden')
                document.body.style.overflow = 'hidden'
            }
        }

        function closeQrModal() {
            document.getElementById('qr-modal').classList.add('hidden')
            document.body.style.overflow = ''
        }

        // Fermer le modal avec Echap
        document.addEventListener('keydown', e => {
            if (e.key === 'Escape') closeQrModal()
        })

        // ---------- Onglets ----------
        function switchTab(name) {
            // Cacher toutes les vidéos et stopper la lecture
            document.querySelectorAll('.video-panel').forEach(panel => {
                panel.classList.add('hidden')
                panel.querySelector('video').pause()
            })

            // Retirer le style actif de tous les onglets
            document.querySelectorAll('.tab-btn').forEach(btn => {
                btn.classList.remove('active-tab')
                btn.classList.add('bg-slate-900', 'border-slate-800', 'text-slate-400')
            })

            // Afficher la vidéo sélectionnée et la lancer
            const panel = document.getElementById('video-' + name)
            panel.classList.remove('hidden')
            panel.querySelector('video').play()

            // Activer l'onglet sélectionné
            const tab = document.getElementById('tab-' + name)
            tab.classList.add('active-tab')
            tab.classList.remove('bg-slate-900', 'border-slate-800', 'text-slate-400')
        }

        // Style initial des onglets
        document.querySelectorAll('.tab-btn').forEach(btn => {
            btn.classList.add('bg-slate-900', 'border-slate-800', 'text-slate-400')
        })

        // Onglet actif par défaut
        document.getElementById('tab-navigation').classList.add('active-tab')
    </script>

    <style>
        .active-tab {
            background-color: rgb(15 23 42); /* slate-900 */
            border-color: #7F1734;
            color: white;
        }

        /* Masquer la scrollbar sur le conteneur des onglets en mobile */
        .tabs-scroll {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .tabs-scroll::-webkit-scrollbar {
            display: none;
        }
    </style>

</body>
</html>